(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{146:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},150:function(e,t,n){"use strict";var r=n(180);t.__esModule=!0,t.CARDANO=t.UI=t.TRANSPORT=t.POPUP=t.NETWORK=t.IFRAME=t.ERRORS=t.DEVICE=t.BLOCKCHAIN=t.BLOCKCHAIN_EVENT=t.RESPONSE_EVENT=t.TRANSPORT_EVENT=t.DEVICE_EVENT=t.UI_EVENT=t.CORE_EVENT=void 0;var o=r(n(367));t.BLOCKCHAIN=o;var i=r(n(368));t.DEVICE=i;var s=r(n(369));t.ERRORS=s;var a=r(n(235));t.IFRAME=a;var c=r(n(370));t.NETWORK=c;var u=r(n(236));t.POPUP=u;var l=r(n(371));t.TRANSPORT=l;var d=r(n(237));t.UI=d;var p=r(n(238));t.CARDANO=p;t.CORE_EVENT="CORE_EVENT";t.UI_EVENT="UI_EVENT";t.DEVICE_EVENT="DEVICE_EVENT";t.TRANSPORT_EVENT="TRANSPORT_EVENT";t.RESPONSE_EVENT="RESPONSE_EVENT";t.BLOCKCHAIN_EVENT="BLOCKCHAIN_EVENT"},179:function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function o(){void 0!==i&&e.removeListener("error",i),n([].slice.call(arguments))}var i;"error"!==t&&(i=function(n){e.removeListener(t,o),r(n)},e.once("error",i)),e.once(t,o)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var o,i,s,a;if(u(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=l(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=p.bind(r);return o.listener=n,r.wrapFn=o,o}function h(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length)}function E(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var u=c.length,l=m(c,u);for(n=0;n<u;++n)i(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,o,i,s;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):E.call(e,t)},a.prototype.listenerCount=E,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},180:function(e,t,n){var r=n(73);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n}},234:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},235:function(e,t,n){"use strict";t.__esModule=!0,t.CALL=t.ERROR=t.INIT=t.LOADED=t.BOOTSTRAP=void 0;t.BOOTSTRAP="iframe-bootstrap";t.LOADED="iframe-loaded";t.INIT="iframe-init";t.ERROR="iframe-error";t.CALL="iframe-call"},236:function(e,t,n){"use strict";t.__esModule=!0,t.CLOSE_WINDOW=t.CANCEL_POPUP_REQUEST=t.CLOSED=t.HANDSHAKE=t.EXTENSION_USB_PERMISSIONS=t.ERROR=t.INIT=t.LOADED=t.BOOTSTRAP=void 0;t.BOOTSTRAP="popup-bootstrap";t.LOADED="popup-loaded";t.INIT="popup-init";t.ERROR="popup-error";t.EXTENSION_USB_PERMISSIONS="open-usb-permissions";t.HANDSHAKE="popup-handshake";t.CLOSED="popup-closed";t.CANCEL_POPUP_REQUEST="ui-cancel-popup-request";t.CLOSE_WINDOW="window.close"},237:function(e,t,n){"use strict";t.__esModule=!0,t.IFRAME_FAILURE=t.ADDRESS_VALIDATION=t.BUNDLE_PROGRESS=t.LOGIN_CHALLENGE_RESPONSE=t.LOGIN_CHALLENGE_REQUEST=t.CUSTOM_MESSAGE_RESPONSE=t.CUSTOM_MESSAGE_REQUEST=t.CHANGE_SETTINGS=t.RECEIVE_WORD=t.RECEIVE_FEE=t.RECEIVE_ACCOUNT=t.CHANGE_ACCOUNT=t.RECEIVE_DEVICE=t.RECEIVE_PASSPHRASE=t.RECEIVE_PIN=t.RECEIVE_CONFIRMATION=t.RECEIVE_PERMISSION=t.REQUEST_WORD=t.REQUEST_BUTTON=t.INSUFFICIENT_FUNDS=t.UPDATE_CUSTOM_FEE=t.SELECT_FEE=t.SELECT_ACCOUNT=t.SELECT_DEVICE=t.SET_OPERATION=t.LOADING=t.CONNECT=t.INVALID_PASSPHRASE_ACTION=t.INVALID_PASSPHRASE=t.REQUEST_PASSPHRASE_ON_DEVICE=t.REQUEST_PASSPHRASE=t.INVALID_PIN=t.REQUEST_PIN=t.REQUEST_CONFIRMATION=t.REQUEST_PERMISSION=t.CLOSE_UI_WINDOW=t.REQUEST_UI_WINDOW=t.DEVICE_NEEDS_BACKUP=t.FIRMWARE_PROGRESS=t.FIRMWARE_NOT_INSTALLED=t.FIRMWARE_NOT_COMPATIBLE=t.FIRMWARE_NOT_SUPPORTED=t.FIRMWARE_OUTDATED=t.FIRMWARE_OLD=t.SEEDLESS=t.INITIALIZE=t.REQUIRE_MODE=t.NOT_IN_BOOTLOADER=t.BOOTLOADER=t.TRANSPORT=void 0;t.TRANSPORT="ui-no_transport";t.BOOTLOADER="ui-device_bootloader_mode";t.NOT_IN_BOOTLOADER="ui-device_not_in_bootloader_mode";t.REQUIRE_MODE="ui-device_require_mode";t.INITIALIZE="ui-device_not_initialized";t.SEEDLESS="ui-device_seedless";t.FIRMWARE_OLD="ui-device_firmware_old";t.FIRMWARE_OUTDATED="ui-device_firmware_outdated";t.FIRMWARE_NOT_SUPPORTED="ui-device_firmware_unsupported";t.FIRMWARE_NOT_COMPATIBLE="ui-device_firmware_not_compatible";t.FIRMWARE_NOT_INSTALLED="ui-device_firmware_not_installed";t.FIRMWARE_PROGRESS="ui-firmware-progress";t.DEVICE_NEEDS_BACKUP="ui-device_needs_backup";t.REQUEST_UI_WINDOW="ui-request_window";t.CLOSE_UI_WINDOW="ui-close_window";t.REQUEST_PERMISSION="ui-request_permission";t.REQUEST_CONFIRMATION="ui-request_confirmation";t.REQUEST_PIN="ui-request_pin";t.INVALID_PIN="ui-invalid_pin";t.REQUEST_PASSPHRASE="ui-request_passphrase";t.REQUEST_PASSPHRASE_ON_DEVICE="ui-request_passphrase_on_device";t.INVALID_PASSPHRASE="ui-invalid_passphrase";t.INVALID_PASSPHRASE_ACTION="ui-invalid_passphrase_action";t.CONNECT="ui-connect";t.LOADING="ui-loading";t.SET_OPERATION="ui-set_operation";t.SELECT_DEVICE="ui-select_device";t.SELECT_ACCOUNT="ui-select_account";t.SELECT_FEE="ui-select_fee";t.UPDATE_CUSTOM_FEE="ui-update_custom_fee";t.INSUFFICIENT_FUNDS="ui-insufficient_funds";t.REQUEST_BUTTON="ui-button";t.REQUEST_WORD="ui-request_word";t.RECEIVE_PERMISSION="ui-receive_permission";t.RECEIVE_CONFIRMATION="ui-receive_confirmation";t.RECEIVE_PIN="ui-receive_pin";t.RECEIVE_PASSPHRASE="ui-receive_passphrase";t.RECEIVE_DEVICE="ui-receive_device";t.CHANGE_ACCOUNT="ui-change_account";t.RECEIVE_ACCOUNT="ui-receive_account";t.RECEIVE_FEE="ui-receive_fee";t.RECEIVE_WORD="ui-receive_word";t.CHANGE_SETTINGS="ui-change_settings";t.CUSTOM_MESSAGE_REQUEST="ui-custom_request";t.CUSTOM_MESSAGE_RESPONSE="ui-custom_response";t.LOGIN_CHALLENGE_REQUEST="ui-login_challenge_request";t.LOGIN_CHALLENGE_RESPONSE="ui-login_challenge_response";t.BUNDLE_PROGRESS="ui-bundle_progress";t.ADDRESS_VALIDATION="ui-address_validation";t.IFRAME_FAILURE="ui-iframe_failure"},238:function(e,t,n){"use strict";t.__esModule=!0,t.CERTIFICATE_TYPE=t.ADDRESS_TYPE=t.NETWORK_IDS=t.PROTOCOL_MAGICS=void 0;var r=Object.freeze({mainnet:764824073,testnet:42});t.PROTOCOL_MAGICS=r;var o=Object.freeze({mainnet:1,testnet:0});t.NETWORK_IDS=o;var i=Object.freeze({Base:0,Pointer:4,Enterprise:6,Byron:8,Reward:14});t.ADDRESS_TYPE=i;var s=Object.freeze({StakeRegistration:0,StakeDeregistration:1,StakeDelegation:2});t.CERTIFICATE_TYPE=s},239:function(e,t,n){"use strict";var r=n(146);t.__esModule=!0,t.getOrigin=t.httpRequest=void 0;var o=r(n(15)),i=r(n(16));n(375);var s=function(){var e=(0,i.default)(o.default.mark((function e(t,n){var r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n="text"),e.next=3,fetch(t,{credentials:"same-origin"});case 3:if(!(r=e.sent).ok){e.next=23;break}if("json"!==n){e.next=12;break}return e.next=8,r.text();case 8:return i=e.sent,e.abrupt("return",JSON.parse(i));case 12:if("binary"!==n){e.next=18;break}return e.next=15,r.arrayBuffer();case 15:return e.abrupt("return",e.sent);case 18:return e.next=20,r.text();case 20:return e.abrupt("return",e.sent);case 21:e.next=24;break;case 23:throw new Error("httpRequest error: "+t+" "+r.statusText);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.httpRequest=s;t.getOrigin=function(e){if(0===e.indexOf("file://"))return"file://";var t=e.match(/^.+\:\/\/[^\/]+/);return Array.isArray(t)&&t.length>0?t[0]:"unknown"}},240:function(e,t,n){"use strict";var r=n(146);t.__esModule=!0,t.create=function(e,t){var n,r=function(e){},s=function(e){},a=new Promise(function(){var t=(0,i.default)(o.default.mark((function t(i,a){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i,s=a,"function"!=typeof e){t.next=11;break}return t.prev=3,t.next=6,e();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),a(t.t0);case 11:"string"==typeof e&&(n=e);case 12:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e,n){return t.apply(this,arguments)}}());return{id:n,device:t,resolve:r,reject:s,promise:a}},t.createAsync=function(e){var t=function(e){},n=function(e){},r=new Promise((function(e,r){t=e,n=r})),s=function(){var t=(0,i.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{resolve:t,reject:n,promise:r,run:function(){return s(),r}}},t.resolveTimeoutPromise=function(e,t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))},t.rejectTimeoutPromise=function(e,t){return new Promise((function(n,r){setTimeout((function(){r(t)}),e)}))};var o=r(n(15)),i=r(n(16))},241:function(e,t,n){"use strict";t.__esModule=!0;var r=n(383);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=r[e])}));var o=n(258);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=o[e])}));var i=n(257);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=i[e])}));var s=n(242);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=s[e])}));var a=n(245);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=a[e])}));var c=n(243);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=c[e])}));var u=n(244);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=u[e])}));var l=n(246);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=l[e])}));var d=n(247);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=d[e])}));var p=n(248);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=p[e])}));var f=n(249);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=f[e])}));var h=n(250);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=h[e])}));var E=n(251);Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=E[e])}));var m=n(252);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=m[e])}));var v=n(253);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=v[e])}));var y=n(254);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=y[e])}));var b=n(255);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=b[e])}));var _=n(256);Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=_[e])}));var g=n(259);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=g[e])}));var S=n(385);Object.keys(S).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=S[e])}))},242:function(e,t,n){},243:function(e,t,n){"use strict";n(150)},244:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){"use strict";n(238)},249:function(e,t,n){},250:function(e,t,n){},251:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){"use strict";n(150)},259:function(e,t,n){"use strict";n(150)},365:function(e,t,n){"use strict";var r,o=n(15),i=n(16),s=t,a=n(366).default,c=n(164),u=n(386);function l(e){return d.apply(this,arguments)}function d(){return(d=i(o.mark((function e(t){var n;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Attempting Trezor connection..."),r=a.stellarGetAddress({path:t,showOnTrezor:!1}),e.next=4,r;case 4:if(!(n=e.sent).success){e.next=11;break}s.path=t,s.publicKey=n.payload.address,p(),e.next=12;break;case 11:throw new Error(n.payload.error);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){console.log("Trezor connected"),"function"==typeof s.onConnect&&s.onConnect()}function f(){console.log("Trezor disconnected"),r=null,["path","publicKey"].forEach((function(e){return s[e]=null})),"function"==typeof s.onDisconnect&&s.onDisconnect()}s.publicKey=null,s.path=null,s.register=function(e,t){a.manifest({email:t,appUrl:e})},s.register("@cosmic-plus/trezor-wallet","mister.ticot@cosmic.plus"),s.connect=i(o.mark((function e(){var t,n,i=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:1,n=t,"number"!=typeof t){e.next=6;break}if(!(t<1)){e.next=5;break}throw new Error("Account number starts at 1.");case 5:n="".concat("m/44'/148'","/").concat(t-1,"'");case 6:return s.path&&s.path!==n&&s.disconnect(),r||(r=l(n)),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),s.sign=function(){var e=i(o.mark((function e(t){var n,r;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.publicKey){e.next=2;break}throw new Error("No Trezor connected.");case 2:return e.next=4,a.stellarSignTransaction({path:s.path,networkPassphrase:t.networkPassphrase,transaction:new u(t)});case 4:if((n=e.sent).success){e.next=7;break}throw new Error(n.payload.error);case 7:r=c.from(n.payload.signature,"hex"),t.addSignature(s.publicKey,r.toString("base64")),console.log("signed",t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.disconnect=function(){try{a.cancel()}catch(e){}f()},s.newAccount=i(o.mark((function e(){var t,n,r,i=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"https://horizon.stellar.org",e.next=3,s.scan({horizon:t,attempts:1,includeMerged:!0});case 3:return n=e.sent,r=n[n.length-1],e.next=7,s.connect(r?r.account+1:1);case 7:case"end":return e.stop()}}),e)}))),s.scan=function(){var e=i(o.mark((function e(t){var r,i,a,c,u,l,d,p,f,h,E,m,v,y,b,_;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.horizon,i=void 0===r?"https://horizon.stellar.org":r,a=t.attempts,c=void 0===a?3:a,u=t.includeMerged,l=void 0!==u&&u,"string"==typeof i&&(d=n(135),p=d.Server,i=new p(i)),f=[],h=0,E=1,m=[];case 4:if(!(h<c)){e.next=20;break}if(!(m.length<E)){e.next=11;break}return e.t0=m,e.next=9,s.getPublicKeys(E,5*c);case 9:e.t1=e.sent,m=e.t0.concat.call(e.t0,e.t1);case 11:return v=m[E-1],y=i.effects().forAccount(v.publicKey),e.next=15,y.order("desc").limit(1).call().catch((function(){}));case 15:(b=e.sent)?(h=0,_=b.records[0],v.state="account_removed"===_.type?"merged":"open",(l||"open"===v.state)&&f.push(v)):h++,E++,e.next=4;break;case 20:return e.abrupt("return",f);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.getPublicKeys=i(o.mark((function e(){var t,n,r,i,c,u=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=u.length>0&&void 0!==u[0]?u[0]:1,n=u.length>1&&void 0!==u[1]?u[1]:1,r=[],i=t;i<t+n;i++)r.push({path:s.connect.path(i),showOnTrezor:!1});return e.next=6,a.stellarGetAddress({bundle:r});case 6:return c=e.sent,e.abrupt("return",c.payload.map((function(e,n){return{account:t+n,publicKey:e.address,path:e.serializedPath}})));case 8:case"end":return e.stop()}}),e)}))),a.on("DEVICE_EVENT",(function(e){console.log("DEVICE_EVENT",console.log(e)),"device-disconnect"===e.type?f():"device-connect"===e.type&&p()})),s.onConnect=null,s.onDisconnect=null},366:function(e,t,n){"use strict";var r=n(146);t.__esModule=!0;var o={};t.default=void 0;var i=r(n(158)),s=n(150);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(t[e]=s[e]))}));var a=n(372),c=n(241);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(t[e]=c[e]))}));var d={manifest:a.manifest,init:function(e){return(0,a.init)(e)},getSettings:a.getSettings,on:function(e,t){a.eventEmitter.on(e,t)},off:function(e,t){a.eventEmitter.removeListener(e,t)},removeAllListeners:function(){a.eventEmitter.removeAllListeners()},uiResponse:a.uiResponse,blockchainGetAccountBalanceHistory:function(e){return(0,a.call)(l({method:"blockchainGetAccountBalanceHistory"},e))},blockchainGetCurrentFiatRates:function(e){return(0,a.call)(l({method:"blockchainGetCurrentFiatRates"},e))},blockchainGetFiatRatesForTimestamps:function(e){return(0,a.call)(l({method:"blockchainGetFiatRatesForTimestamps"},e))},blockchainDisconnect:function(e){return(0,a.call)(l({method:"blockchainDisconnect"},e))},blockchainEstimateFee:function(e){return(0,a.call)(l({method:"blockchainEstimateFee"},e))},blockchainGetTransactions:function(e){return(0,a.call)(l({method:"blockchainGetTransactions"},e))},blockchainSetCustomBackend:function(e){return(0,a.call)(l({method:"blockchainSetCustomBackend"},e))},blockchainSubscribe:function(e){return(0,a.call)(l({method:"blockchainSubscribe"},e))},blockchainSubscribeFiatRates:function(e){return(0,a.call)(l({method:"blockchainSubscribeFiatRates"},e))},blockchainUnsubscribe:function(e){return(0,a.call)(l({method:"blockchainUnsubscribe"},e))},blockchainUnsubscribeFiatRates:function(e){return(0,a.call)(l({method:"blockchainUnsubscribeFiatRates"},e))},customMessage:function(e){return(0,a.customMessage)(e)},requestLogin:function(e){return(0,a.requestLogin)(e)},cardanoGetAddress:function(e){var t=a.eventEmitter.listenerCount(s.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"cardanoGetAddress"},e),{},{useEventListener:t}))},cardanoGetPublicKey:function(e){return(0,a.call)(l({method:"cardanoGetPublicKey"},e))},cardanoSignTransaction:function(e){return(0,a.call)(l({method:"cardanoSignTransaction"},e))},cipherKeyValue:function(e){return(0,a.call)(l({method:"cipherKeyValue"},e))},composeTransaction:function(e){return(0,a.call)(l({method:"composeTransaction"},e))},debugLinkDecision:function(e){return(0,a.call)(l({method:"debugLinkDecision"},e))},debugLinkGetState:function(e){return(0,a.call)(l({method:"debugLinkGetState"},e))},ethereumGetAddress:function(e){var t=a.eventEmitter.listenerCount(s.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"ethereumGetAddress"},e),{},{useEventListener:t}))},ethereumGetPublicKey:function(e){return(0,a.call)(l({method:"ethereumGetPublicKey"},e))},ethereumSignMessage:function(e){return(0,a.call)(l({method:"ethereumSignMessage"},e))},ethereumSignTransaction:function(e){return(0,a.call)(l({method:"ethereumSignTransaction"},e))},ethereumVerifyMessage:function(e){return(0,a.call)(l({method:"ethereumVerifyMessage"},e))},getAccountInfo:function(e){return(0,a.call)(l({method:"getAccountInfo"},e))},getAddress:function(e){var t=a.eventEmitter.listenerCount(s.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"getAddress"},e),{},{useEventListener:t}))},getDeviceState:function(e){return(0,a.call)(l({method:"getDeviceState"},e))},getFeatures:function(e){return(0,a.call)(l({method:"getFeatures"},e))},getPublicKey:function(e){return(0,a.call)(l({method:"getPublicKey"},e))},liskGetAddress:function(e){var t=a.eventEmitter.listenerCount(s.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"liskGetAddress"},e),{},{useEventListener:t}))},liskGetPublicKey:function(e){return(0,a.call)(l({method:"liskGetPublicKey"},e))},liskSignMessage:function(e){return(0,a.call)(l({method:"liskSignMessage"},e))},liskSignTransaction:function(e){return(0,a.call)(l({method:"liskSignTransaction"},e))},liskVerifyMessage:function(e){return(0,a.call)(l({method:"liskVerifyMessage"},e))},nemGetAddress:function(e){var t=a.eventEmitter.listenerCount(s.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"nemGetAddress"},e),{},{useEventListener:t}))},nemSignTransaction:function(e){return(0,a.call)(l({method:"nemSignTransaction"},e))},pushTransaction:function(e){return(0,a.call)(l({method:"pushTransaction"},e))},rippleGetAddress:function(e){var t=a.eventEmitter.listenerCount(s.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"rippleGetAddress"},e),{},{useEventListener:t}))},rippleSignTransaction:function(e){return(0,a.call)(l({method:"rippleSignTransaction"},e))},signMessage:function(e){return(0,a.call)(l({method:"signMessage"},e))},signTransaction:function(e){return(0,a.call)(l({method:"signTransaction"},e))},stellarGetAddress:function(e){var t=a.eventEmitter.listenerCount(s.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"stellarGetAddress"},e),{},{useEventListener:t}))},stellarSignTransaction:function(e){return(0,a.call)(l({method:"stellarSignTransaction"},e))},tezosGetAddress:function(e){var t=a.eventEmitter.listenerCount(s.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"tezosGetAddress"},e),{},{useEventListener:t}))},tezosGetPublicKey:function(e){return(0,a.call)(l({method:"tezosGetPublicKey"},e))},tezosSignTransaction:function(e){return(0,a.call)(l({method:"tezosSignTransaction"},e))},eosGetPublicKey:function(e){return(0,a.call)(l({method:"eosGetPublicKey"},e))},eosSignTransaction:function(e){return(0,a.call)(l({method:"eosSignTransaction"},e))},binanceGetAddress:function(e){var t=a.eventEmitter.listenerCount(s.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"binanceGetAddress"},e),{},{useEventListener:t}))},binanceGetPublicKey:function(e){return(0,a.call)(l({method:"binanceGetPublicKey"},e))},binanceSignTransaction:function(e){return(0,a.call)(l({method:"binanceSignTransaction"},e))},verifyMessage:function(e){return(0,a.call)(l({method:"verifyMessage"},e))},resetDevice:function(e){return(0,a.call)(l({method:"resetDevice"},e))},wipeDevice:function(e){return(0,a.call)(l({method:"wipeDevice"},e))},applyFlags:function(e){return(0,a.call)(l({method:"applyFlags"},e))},applySettings:function(e){return(0,a.call)(l({method:"applySettings"},e))},backupDevice:function(e){return(0,a.call)(l({method:"backupDevice"},e))},changePin:function(e){return(0,a.call)(l({method:"changePin"},e))},firmwareUpdate:function(e){return(0,a.call)(l({method:"firmwareUpdate"},e))},recoveryDevice:function(e){return(0,a.call)(l({method:"recoveryDevice"},e))},getCoinInfo:function(e){return(0,a.call)(l({method:"getCoinInfo"},e))},dispose:function(){(0,a.dispose)()},cancel:a.cancel,renderWebUSBButton:function(e){(0,a.renderWebUSBButton)(e)},disableWebUSB:function(){(0,a.disableWebUSB)()}};t.default=d},367:function(e,t,n){"use strict";t.__esModule=!0,t.FIAT_RATES_UPDATE=t.NOTIFICATION=t.BLOCK=t.CONNECT=t.ERROR=void 0;t.ERROR="blockchain-error";t.CONNECT="blockchain-connect";t.BLOCK="blockchain-block";t.NOTIFICATION="blockchain-notification";t.FIAT_RATES_UPDATE="fiat-rates-update"},368:function(e,t,n){"use strict";t.__esModule=!0,t.UNREADABLE=t.WAIT_FOR_SELECTION=t.WORD=t.PASSPHRASE_ON_DEVICE=t.PASSPHRASE=t.PIN=t.BUTTON=t.LOADING=t.USED_ELSEWHERE=t.RELEASED=t.ACQUIRED=t.RELEASE=t.ACQUIRE=t.CHANGED=t.DISCONNECT=t.CONNECT_UNACQUIRED=t.CONNECT=void 0;t.CONNECT="device-connect";t.CONNECT_UNACQUIRED="device-connect_unacquired";t.DISCONNECT="device-disconnect";t.CHANGED="device-changed";t.ACQUIRE="device-acquire";t.RELEASE="device-release";t.ACQUIRED="device-acquired";t.RELEASED="device-released";t.USED_ELSEWHERE="device-used_elsewhere";t.LOADING="device-loading";t.BUTTON="button";t.PIN="pin";t.PASSPHRASE="passphrase";t.PASSPHRASE_ON_DEVICE="passphrase_on_device";t.WORD="word";t.WAIT_FOR_SELECTION="device-wait_for_selection";t.UNREADABLE="unreadable-device"},369:function(e,t,n){"use strict";var r=n(146);t.__esModule=!0,t.WEBUSB_ERROR_MESSAGE=t.INVALID_PIN_ERROR_MESSAGE=t.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE=t.TypedError=t.TrezorError=t.ERROR_CODES=void 0;var o=r(n(234)),i=r(n(182)),s={Init_NotInitialized:"TrezorConnect not yet initialized",Init_AlreadyInitialized:"TrezorConnect has been already initialized",Init_IframeBlocked:"Iframe blocked",Init_IframeTimeout:"Iframe timeout",Init_ManifestMissing:"Manifest not set. Read more at https://github.com/trezor/connect/blob/develop/docs/index.md",Popup_ConnectionMissing:"Unable to establish connection with iframe",Transport_Missing:"Transport is missing",Transport_InvalidProtobuf:"",Method_InvalidPackage:"This version of trezor-connect is not suitable to work without browser. Use trezor-connect@extended package instead",Method_InvalidParameter:"",Method_NotAllowed:"Method not allowed for this configuration",Method_PermissionsNotGranted:"Permissions not granted",Method_Cancel:"Cancelled",Method_Interrupted:"Popup closed",Method_UnknownCoin:"Coin not found",Method_AddressNotMatch:"Addresses do not match",Method_FirmwareUpdate_DownloadFailed:"Failed to download firmware binary",Method_CustomMessage_Callback:'Parameter "callback" is not a function',Method_Discovery_BundleException:"",Method_Override:"override",Method_NoResponse:"Call resolved without response",Backend_NotSupported:"BlockchainLink settings not found in coins.json",Backend_WorkerMissing:"",Backend_Disconnected:"Backend disconnected",Backend_Invalid:"Invalid backend",Backend_Error:"",Runtime:"",Device_NotFound:"Device not found",Device_InitializeFailed:"",Device_FwException:"",Device_ModeException:"",Device_Disconnected:"Device disconnected",Device_UsedElsewhere:"Device is used in another window",Device_InvalidState:"Passphrase is incorrect",Device_CallInProgress:"Device call in progress"};t.ERROR_CODES=s;var a=function(e){function t(t,n){var r;return(r=e.call(this,n)||this).code=t,r.message=n,r}return(0,o.default)(t,e),t}((0,i.default)(Error));t.TrezorError=a;t.TypedError=function(e,t){return new a(e,t||s[e])};t.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE="wrong previous session";t.INVALID_PIN_ERROR_MESSAGE="PIN invalid";t.WEBUSB_ERROR_MESSAGE="NetworkError: Unable to claim interface."},370:function(e,t,n){"use strict";t.__esModule=!0,t.TYPES=void 0;var r=Object.freeze({bitcoin:"Bitcoin",ethereum:"Ethereum",eos:"Eos",nem:"NEM",stellar:"Stellar",lisk:"Lisk",cardano:"Cardano",ripple:"Ripple",tezos:"Tezors",binance:"Binance"});t.TYPES=r},371:function(e,t,n){"use strict";t.__esModule=!0,t.START_PENDING=t.DISABLE_WEBUSB=t.REQUEST=t.STREAM=t.UPDATE=t.ERROR=t.START=void 0;t.START="transport-start";t.ERROR="transport-error";t.UPDATE="transport-update";t.STREAM="transport-stream";t.REQUEST="transport-request_device";t.DISABLE_WEBUSB="transport-disable_webusb";t.START_PENDING="transport-start_pending"},372:function(e,t,n){"use strict";var r=n(180),o=n(146);t.__esModule=!0,t.disableWebUSB=t.requestLogin=t.customMessage=t.getSettings=t.renderWebUSBButton=t.uiResponse=t.call=t.init=t.cancel=t.dispose=t.manifest=t.eventEmitter=void 0;var i=o(n(158)),s=o(n(15)),a=o(n(16)),c=o(n(179)),u=o(n(373)),l=r(n(376)),d=o(n(378)),p=n(379),f=n(380),h=n(381),E=r(n(382)),m=n(150);r(n(241));function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=new c.default;t.eventEmitter=b;var _,g,S=(0,E.init)("[trezor-connect.js]"),w=function(){var e=new u.default(_);return e.on(m.POPUP.CLOSED,(function(e){l.postMessage({type:m.POPUP.CLOSED,payload:e?{error:e}:null},!1)})),e};t.manifest=function(e){_=(0,h.parse)({manifest:e})};var O=function(){l.dispose(),g&&g.close()};t.dispose=O;t.cancel=function(e){g&&g.emit(m.POPUP.CLOSED,e)};var T=function(e){if(e.origin===l.origin){var t=(0,p.parseMessage)(e.data),n=t.event,r=t.type,o=t.payload,i=t.id||0;switch(S.log("handleMessage",t),n){case m.RESPONSE_EVENT:l.messagePromises[i]?(l.messagePromises[i].resolve({id:i,success:t.success,payload:o}),delete l.messagePromises[i]):S.warn("Unknown message id "+i);break;case m.DEVICE_EVENT:case m.TRANSPORT_EVENT:case m.BLOCKCHAIN_EVENT:b.emit(n,t),b.emit(r,o);break;case m.UI_EVENT:if(r===m.IFRAME.BOOTSTRAP){l.clearTimeout();break}r===m.IFRAME.LOADED&&l.initPromise.resolve(),r===m.IFRAME.ERROR&&l.initPromise.reject(o.error),b.emit(n,t),b.emit(r,o);break;default:S.log("Undefined message",n,e)}}},R=function(){var e=(0,a.default)(s.default.mark((function e(t){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),!l.instance){e.next=3;break}throw m.ERRORS.TypedError("Init_AlreadyInitialized");case 3:if(_||(_=(0,h.parse)(t)),_.manifest){e.next=6;break}throw m.ERRORS.TypedError("Init_ManifestMissing");case 6:if(!_.lazyLoad){e.next=9;break}return _.lazyLoad=!1,e.abrupt("return");case 9:return g||(g=w()),S.enabled=!!_.debug,window.addEventListener("message",T),window.addEventListener("unload",O),e.next=15,l.init(_);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.init=R;var I=function(){var e=(0,a.default)(s.default.mark((function e(t){var n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.instance||l.timeout){e.next=15;break}if((_=(0,h.parse)(_)).manifest){e.next=4;break}return e.abrupt("return",(0,p.errorMessage)(m.ERRORS.TypedError("Init_ManifestMissing")));case 4:return g||(g=w()),g.request(!0),e.prev=6,e.next=9,R(_);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(6),g&&(["Init_IframeBlocked","Init_IframeTimeout"].includes(e.t0.code)?g.postMessage((0,f.UiMessage)(m.UI.IFRAME_FAILURE)):g.close()),e.abrupt("return",(0,p.errorMessage)(e.t0));case 15:if(!l.timeout){e.next=19;break}return e.abrupt("return",(0,p.errorMessage)(m.ERRORS.TypedError("Init_ManifestMissing")));case 19:if(!l.error){e.next=21;break}return e.abrupt("return",(0,p.errorMessage)(l.error));case 21:return _.popup&&g&&g.request(),e.prev=22,e.next=25,l.postMessage({type:m.IFRAME.CALL,payload:t});case 25:if(!(n=e.sent)){e.next=31;break}return!n.success&&"Device_CallInProgress"!==n.payload.error.code&&g&&g.unlock(),e.abrupt("return",n);case 31:return g&&g.unlock(),e.abrupt("return",(0,p.errorMessage)(m.ERRORS.TypedError("Method_NoResponse")));case 33:e.next=40;break;case 35:return e.prev=35,e.t1=e.catch(22),S.error("__call error",e.t1),g&&g.close(),e.abrupt("return",(0,p.errorMessage)(e.t1));case 40:case"end":return e.stop()}}),e,null,[[6,11],[22,35]])})));return function(t){return e.apply(this,arguments)}}();t.call=I;var A=function(e){l.postMessage({event:m.UI_EVENT,type:m.UI.CUSTOM_MESSAGE_RESPONSE,payload:e})};t.uiResponse=function(e){var t=e.type,n=e.payload;l.postMessage({event:m.UI_EVENT,type:t,payload:n})};t.renderWebUSBButton=function(e){(0,d.default)(e,_.webusbSrc,l.origin)};var N=function(){var e=(0,a.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.instance){e.next=2;break}return e.abrupt("return",(0,p.errorMessage)(m.ERRORS.TypedError("Init_NotInitialized")));case 2:return e.next=4,I({method:"getSettings"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.getSettings=N;var x=function(){var e=(0,a.default)(s.default.mark((function e(t){var n,r,o;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof t.callback){e.next=2;break}return e.abrupt("return",(0,p.errorMessage)(m.ERRORS.TypedError("Method_CustomMessage_Callback")));case 2:return n=t.callback,r=function(){var e=(0,a.default)(s.default.mark((function e(t){var r,o;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.data)||r.type!==m.UI.CUSTOM_MESSAGE_REQUEST){e.next=6;break}return e.next=4,n(r.payload);case 4:o=e.sent,A(o||{message:"release"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),window.addEventListener("message",r,!1),e.next=7,I(y(y({method:"customMessage"},t),{},{callback:null}));case 7:return o=e.sent,window.removeEventListener("message",r),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.customMessage=x;var U=function(){var e=(0,a.default)(s.default.mark((function e(t){var n,r,o;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t.callback){e.next=11;break}return n=t.callback,r=function(){var e=(0,a.default)(s.default.mark((function e(t){var r,o;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.data)||r.type!==m.UI.LOGIN_CHALLENGE_REQUEST){e.next=12;break}return e.prev=2,e.next=5,n();case 5:o=e.sent,l.postMessage({event:m.UI_EVENT,type:m.UI.LOGIN_CHALLENGE_RESPONSE,payload:o}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),l.postMessage({event:m.UI_EVENT,type:m.UI.LOGIN_CHALLENGE_RESPONSE,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),window.addEventListener("message",r,!1),e.next=6,I(y(y({method:"requestLogin"},t),{},{asyncChallenge:!0,callback:null}));case 6:return o=e.sent,window.removeEventListener("message",r),e.abrupt("return",o);case 11:return e.next=13,I(y({method:"requestLogin"},t));case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.requestLogin=U;t.disableWebUSB=function(){l.postMessage({event:m.UI_EVENT,type:m.TRANSPORT.DISABLE_WEBUSB})}},373:function(e,t,n){"use strict";var r=n(180),o=n(146);t.__esModule=!0,t.default=void 0;var i=o(n(15)),s=o(n(16)),a=o(n(66)),c=o(n(234)),u=o(n(158)),l=o(n(179)),d=r(n(236)),p=r(n(235)),f=r(n(237)),h=n(374),E=n(239),m=n(240),v=function(e){function t(t){var n;return n=e.call(this)||this,(0,u.default)((0,a.default)(n),"requestTimeout",0),(0,u.default)((0,a.default)(n),"closeInterval",0),(0,u.default)((0,a.default)(n),"extensionTabId",0),n.settings=t,n.origin=(0,E.getOrigin)(t.popupSrc),n.handleMessage=n.handleMessage.bind((0,a.default)(n)),n.iframeHandshake=(0,m.create)(p.LOADED),"webextension"===n.settings.env&&(n.handleExtensionConnect=n.handleExtensionConnect.bind((0,a.default)(n)),n.handleExtensionMessage=n.handleExtensionMessage.bind((0,a.default)(n)),chrome.runtime.onConnect.addListener(n.handleExtensionConnect)),window.addEventListener("message",n.handleMessage,!1),n}(0,c.default)(t,e);var n=t.prototype;return n.request=function(e){var t=this;if(void 0===e&&(e=!1),this.locked)this._window&&("webextension"===this.settings.env?chrome.tabs.update(this._window.id,{active:!0}):this._window.focus());else{var n=this.open.bind(this);if(this.locked=!0,this.settings.supportedBrowser){var r=e||"webextension"===this.settings.env?1:850;this.requestTimeout=window.setTimeout((function(){t.requestTimeout=0,n(e)}),r)}else n()}},n.cancel=function(){this.close()},n.unlock=function(){this.locked=!1},n.open=function(e){var t=this,n=this.settings.popupSrc;this.settings.supportedBrowser?(this.popupPromise=(0,m.create)(d.LOADED),this.openWrapper(e?n+"#loading":n),this.closeInterval=window.setInterval((function(){t._window&&("webextension"===t.settings.env?chrome.tabs.get(t._window.id,(function(e){e||(t.close(),t.emit(d.CLOSED))})):t._window.closed&&(t.close(),t.emit(d.CLOSED)))}),500),this.openTimeout=window.setTimeout((function(){t.close(),(0,h.showPopupRequest)(t.open.bind(t),(function(){t.emit(d.CLOSED)}))}),3e3)):this.openWrapper(n+"#unsupported")},n.openWrapper=function(e){var t=this;"webextension"===this.settings.env?chrome.windows.getCurrent(null,(function(n){"normal"!==n.type?chrome.windows.create({url:e},(function(e){chrome.tabs.query({windowId:e.id,active:!0},(function(e){t._window=e[0]}))})):chrome.tabs.query({currentWindow:!0,active:!0},(function(n){t.extensionTabId=n[0].id,chrome.tabs.create({url:e,index:n[0].index+1},(function(e){t._window=e}))}))})):"electron"===this.settings.env?this._window=window.open(e,"modal"):(this._window=window.open("","_blank"),this._window&&(this._window.location.href=e))},n.handleExtensionConnect=function(e){"trezor-connect"===e.name&&(!this._window||this._window&&this._window.id!==e.sender.tab.id?e.disconnect():(window.clearTimeout(this.openTimeout),this.extensionPort=e,this.extensionPort.onMessage.addListener(this.handleExtensionMessage)))},n.handleExtensionMessage=function(e){var t=this;if(this.extensionPort){var n=this.extensionPort,r=e.data;if(r&&"object"==typeof r)if(r.type===d.ERROR){var o=r.payload&&"string"==typeof r.payload.error?r.payload.error:null;this.emit(d.CLOSED,o?"Popup error: "+o:null),this.close()}else r.type===d.LOADED?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then((function(){n.postMessage({type:d.INIT,payload:{settings:t.settings}})}))):r.type===d.EXTENSION_USB_PERMISSIONS?chrome.tabs.query({currentWindow:!0,active:!0},(function(e){chrome.tabs.create({url:"trezor-usb-permissions.html",index:e[0].index+1},(function(e){}))})):r.type===d.CLOSE_WINDOW&&(this.emit(d.CLOSED),this.close())}},n.handleMessage=function(e){var t=this,n=e.data;if((0,E.getOrigin)(e.origin)===this.origin&&n&&"object"==typeof n)if(n.type===p.LOADED)this.iframeHandshake.resolve();else if(n.type===d.BOOTSTRAP)window.clearTimeout(this.openTimeout);else if(n.type===d.ERROR&&this._window){var r=n.payload&&"string"==typeof n.payload.error?n.payload.error:null;this.emit(d.CLOSED,r?"Popup error: "+r:null),this.close()}else n.type===d.LOADED?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then((function(){t._window.postMessage({type:d.INIT,payload:{settings:t.settings}},t.origin)}))):n.type!==d.CANCEL_POPUP_REQUEST&&n.type!==f.CLOSE_UI_WINDOW||this.close()},n.close=function(){if(this.locked=!1,this.popupPromise=void 0,this.requestTimeout&&(window.clearTimeout(this.requestTimeout),this.requestTimeout=0),this.openTimeout&&(window.clearTimeout(this.openTimeout),this.openTimeout=0),this.closeInterval&&(window.clearInterval(this.closeInterval),this.closeInterval=0),this.extensionPort&&(this.extensionPort.disconnect(),this.extensionPort=null),this.extensionTabId&&(chrome.tabs.update(this.extensionTabId,{active:!0}),this.extensionTabId=0),this._window){if("webextension"===this.settings.env){chrome.runtime.lastError;chrome.tabs.remove(this._window.id,(function(){chrome.runtime.lastError}))}else this._window.close();this._window=null}},n.postMessage=function(){var e=(0,s.default)(i.default.mark((function e(t){var n=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._window||t.type===f.REQUEST_UI_WINDOW||!this.openTimeout){e.next=4;break}return this.close(),(0,h.showPopupRequest)(this.open.bind(this),(function(){n.emit(d.CLOSED)})),e.abrupt("return");case 4:if(!this.popupPromise){e.next=7;break}return e.next=7,this.popupPromise.promise;case 7:this._window&&this._window.postMessage(t,this.origin);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.onBeforeUnload=function(){this.close()},t}(l.default);t.default=v},374:function(e,t,n){"use strict";t.__esModule=!0,t.showPopupRequest=void 0;var r="TrezorConnectInteractionLayer";t.showPopupRequest=function(e,t){if(!document.getElementById(r)){var n=document.createElement("div");n.id=r,n.className="trezorconnect-container",n.innerHTML='\n    <div class="trezorconnect-container" id="TrezorConnectInteractionLayer">\n        <div class="trezorconnect-window">\n            <div class="trezorconnect-head">\n                <svg class="trezorconnect-logo" x="0px" y="0px" viewBox="0 0 163.7 41.9" width="78px" height="20px" preserveAspectRatio="xMinYMin meet">\n                    <polygon points="101.1,12.8 118.2,12.8 118.2,17.3 108.9,29.9 118.2,29.9 118.2,35.2 101.1,35.2 101.1,30.7 110.4,18.1 101.1,18.1"/>\n                    <path d="M158.8,26.9c2.1-0.8,4.3-2.9,4.3-6.6c0-4.5-3.1-7.4-7.7-7.4h-10.5v22.3h5.8v-7.5h2.2l4.1,7.5h6.7L158.8,26.9z M154.7,22.5 h-4V18h4c1.5,0,2.5,0.9,2.5,2.2C157.2,21.6,156.2,22.5,154.7,22.5z"/>\n                    <path d="M130.8,12.5c-6.8,0-11.6,4.9-11.6,11.5s4.9,11.5,11.6,11.5s11.7-4.9,11.7-11.5S137.6,12.5,130.8,12.5z M130.8,30.3 c-3.4,0-5.7-2.6-5.7-6.3c0-3.8,2.3-6.3,5.7-6.3c3.4,0,5.8,2.6,5.8,6.3C136.6,27.7,134.2,30.3,130.8,30.3z"/>\n                    <polygon points="82.1,12.8 98.3,12.8 98.3,18 87.9,18 87.9,21.3 98,21.3 98,26.4 87.9,26.4 87.9,30 98.3,30 98.3,35.2 82.1,35.2 "/>\n                    <path d="M24.6,9.7C24.6,4.4,20,0,14.4,0S4.2,4.4,4.2,9.7v3.1H0v22.3h0l14.4,6.7l14.4-6.7h0V12.9h-4.2V9.7z M9.4,9.7 c0-2.5,2.2-4.5,5-4.5s5,2,5,4.5v3.1H9.4V9.7z M23,31.5l-8.6,4l-8.6-4V18.1H23V31.5z"/>\n                    <path d="M79.4,20.3c0-4.5-3.1-7.4-7.7-7.4H61.2v22.3H67v-7.5h2.2l4.1,7.5H80l-4.9-8.3C77.2,26.1,79.4,24,79.4,20.3z M71,22.5h-4V18 h4c1.5,0,2.5,0.9,2.5,2.2C73.5,21.6,72.5,22.5,71,22.5z"/>\n                    <polygon points="40.5,12.8 58.6,12.8 58.6,18.1 52.4,18.1 52.4,35.2 46.6,35.2 46.6,18.1 40.5,18.1 "/>\n                </svg>\n                <div class="trezorconnect-close">\n                    <svg x="0px" y="0px" viewBox="24 24 60 60" width="24px" height="24px" preserveAspectRatio="xMinYMin meet">\n                        <polygon class="st0" points="40,67.9 42.1,70 55,57.1 67.9,70 70,67.9 57.1,55 70,42.1 67.9,40 55,52.9 42.1,40 40,42.1 52.9,55 "/>\n                    </svg>\n                </div>\n            </div>\n            <div class="trezorconnect-body">\n                <h3>Popup was blocked</h3>\n                <p>Please click to “Continue” to open popup manually</p>\n                <button class="trezorconnect-open">Continue</button>\n            </div>\n        </div>\n    </div>\n',document.body&&document.body.appendChild(n),n.getElementsByClassName("trezorconnect-open")[0].onclick=function(){e(),document.body&&document.body.removeChild(n)},n.getElementsByClassName("trezorconnect-close")[0].onclick=function(){t(),document.body&&document.body.removeChild(n)}}}},375:function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",(function(){return h})),n.d(t,"Request",(function(){return g})),n.d(t,"Response",(function(){return w})),n.d(t,"DOMException",(function(){return T})),n.d(t,"fetch",(function(){return R}));var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r&&r,o="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,s="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function p(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function E(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&s&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=E(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=E(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(v)}),this.text=function(){var e,t,n,r=E(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=m(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=d(e),t=p(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[d(e)]},h.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},h.prototype.set=function(e,t){this.map[d(e)]=p(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),_.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function S(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},b.call(g.prototype),b.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var O=[301,302,303,307,308];w.redirect=function(e,t){if(-1===O.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})};var T=r.DOMException;try{new T}catch(e){(T=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),T.prototype.constructor=T}function R(e,t){return new Promise((function(n,o){var i=new g(e,t);if(i.signal&&i.signal.aborted)return o(new T("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;setTimeout((function(){n(new w(o,r))}),0)},a.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){o(new T("Aborted","AbortError"))}),0)},a.open(i.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&(s?a.responseType="blob":c&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof h?i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){a.setRequestHeader(e,p(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",u)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}R.polyfill=!0,r.fetch||(r.fetch=R,r.Headers=h,r.Request=g,r.Response=w)},376:function(e,t,n){"use strict";var r=n(146);t.__esModule=!0,t.clearTimeout=t.dispose=t.postMessage=t.init=t.messagePromises=t.error=t.timeout=t.initPromise=t.origin=t.instance=void 0;var o,i,s=r(n(15)),a=r(n(16)),c=n(240),u=n(150),l=n(239),d=r(n(377));t.instance=o,t.origin=i;var p=(0,c.create)();t.initPromise=p;var f,h=0;t.timeout=h,t.error=f;var E=0,m={};t.messagePromises=m;var v=function(){var e=(0,a.default)(s.default.mark((function e(n){var r,a,d,f,E;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.initPromise=p=(0,c.create)(),(r=document.getElementById("trezorconnect"))?t.instance=o=r:(t.instance=o=document.createElement("iframe"),o.frameBorder="0",o.width="0px",o.height="0px",o.style.position="absolute",o.style.display="none",o.style.border="0px",o.style.width="0px",o.style.height="0px",o.id="trezorconnect"),"web"===n.env?(d=n.manifest?JSON.stringify(n.manifest):"undefined",f="&version="+n.version+"&manifest="+encodeURIComponent(btoa(JSON.stringify(d))),a=n.iframeSrc+"?"+Date.now()+f):a=n.iframeSrc,o.setAttribute("src",a),n.webusb&&o.setAttribute("allow","usb"),t.origin=i=(0,l.getOrigin)(o.src),t.timeout=h=window.setTimeout((function(){p.reject(u.ERRORS.TypedError("Init_IframeTimeout"))}),1e4),E=function(){if(o){try{var e=o.contentWindow.location.origin;if(!e||"null"===e)return void b()}catch(e){}var t;"undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect&&(chrome.runtime.onConnect.addListener((function(){})),t=chrome.runtime.id),o.contentWindow.postMessage({type:u.IFRAME.INIT,payload:{settings:n,extension:t}},i),o.onload=void 0}else p.reject(u.ERRORS.TypedError("Init_IframeBlocked"))},o.attachEvent?o.attachEvent("onload",E):o.onload=E,document.body&&(document.body.appendChild(o),y()),e.prev=11,e.next=14,p.promise;case 14:e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(11),o&&(o.parentNode&&o.parentNode.removeChild(o),t.instance=o=null),e.t0;case 20:return e.prev=20,window.clearTimeout(h),t.timeout=h=0,e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[11,16,20,24]])})));return function(t){return e.apply(this,arguments)}}();t.init=v;var y=function(){if(!o)throw u.ERRORS.TypedError("Init_IframeBlocked");var e=o.ownerDocument,t=e.head||e.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("id","TrezorConnectStylesheet"),n.styleSheet?(n.styleSheet.cssText=d.default,t.appendChild(n)):(n.appendChild(document.createTextNode(d.default)),t.append(n))},b=function(){window.clearTimeout(h),t.error=f=u.ERRORS.TypedError("Init_IframeBlocked"),_(),p.reject(f)};t.postMessage=function(e,t){if(void 0===t&&(t=!0),!o)throw u.ERRORS.TypedError("Init_IframeBlocked");if(t){E++,e.id=E,m[E]=(0,c.create)();var n=m[E].promise;return o.contentWindow.postMessage(e,i),n}return o.contentWindow.postMessage(e,i),null};var _=function(){if(o&&o.parentNode)try{o.parentNode.removeChild(o)}catch(e){}t.instance=o=null,t.timeout=h=0};t.dispose=_;t.clearTimeout=function(){window.clearTimeout(h)}},377:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default='.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */'},378:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e,t,n){var r=e||".trezor-webusb-button",o=document.querySelectorAll(r),i=t+"?"+Date.now();o.forEach((function(e){if(e.getElementsByTagName("iframe").length<1){var t=e.getBoundingClientRect(),r=document.createElement("iframe");r.frameBorder="0",r.width=Math.round(t.width)+"px",r.height=Math.round(t.height)+"px",r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.zIndex="1",r.setAttribute("allow","usb"),r.setAttribute("scrolling","no"),r.onload=function(){r.contentWindow.postMessage({},n)},r.src=i,e.append(r)}}))};t.default=r},379:function(e,t,n){"use strict";t.__esModule=!0,t.errorMessage=t.parseMessage=void 0;t.parseMessage=function(e){var t={event:e.event,type:e.type,payload:e.payload};return"number"==typeof e.id&&(t.id=e.id),"boolean"==typeof e.success&&(t.success=e.success),t};t.errorMessage=function(e){return{success:!1,payload:{error:e.message,code:e.code}}}},380:function(e,t,n){"use strict";var r=n(146);t.__esModule=!0,t.BlockchainMessage=t.ResponseMessage=t.TransportMessage=t.DeviceMessage=t.UiMessage=void 0;var o=r(n(158)),i=n(150);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.UiMessage=function(e,t){return{event:i.UI_EVENT,type:e,payload:t}};t.DeviceMessage=function(e,t){return{event:i.DEVICE_EVENT,type:e,payload:t}};t.TransportMessage=function(e,t){return{event:i.TRANSPORT_EVENT,type:e,payload:t.error?a(a({},t),{},{error:t.error.message,code:t.error.code}):t}};t.ResponseMessage=function(e,t,n){return void 0===n&&(n=null),{event:i.RESPONSE_EVENT,type:i.RESPONSE_EVENT,id:e,success:t,payload:t?n:{error:n.error.message,code:n.error.code}}};t.BlockchainMessage=function(e,t){return{event:i.BLOCKCHAIN_EVENT,type:e,payload:t}}},381:function(e,t,n){"use strict";(function(e){var r=n(146);t.__esModule=!0,t.parse=t.corsValidator=t.getEnv=t.DEFAULT_PRIORITY=void 0;var o=r(n(158));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s="https://connect.trezor.io/"+("8.1.14".split(".").map((function(e){return parseInt(e)}))[0]+"/");t.DEFAULT_PRIORITY=2;var a={configSrc:"./data/config.json",version:"8.1.14",debug:!1,priority:2,trustedHost:!1,connectSrc:s,iframeSrc:s+"iframe.html",popup:!0,popupSrc:s+"popup.html",webusbSrc:s+"webusb.html",transportReconnect:!1,webusb:!0,pendingTransportEvent:!0,supportedBrowser:"undefined"==typeof navigator||!/Trident|MSIE|Edge/.test(navigator.userAgent),manifest:null,env:"web",lazyLoad:!1,timestamp:(new Date).getTime(),interactionTimeout:600},c=function(){if("undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect)return"webextension";if("undefined"!=typeof navigator){if("string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"};t.getEnv=c;var u=function(e){if("string"==typeof e)return e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*trezor\.io\//)||e.match(/^https?:\/\/localhost:[58][0-9]{3}\//)||e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*sldev\.cz\//)?e:void 0};t.corsValidator=u;t.parse=function(t){void 0===t&&(t={});var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a);if(Object.prototype.hasOwnProperty.call(t,"debug")&&(Array.isArray(t),"boolean"==typeof t.debug?n.debug=t.debug:"string"==typeof t.debug&&(n.debug="true"===t.debug)),"string"==typeof t.connectSrc&&(n.connectSrc=t.connectSrc),void 0!==e&&"string"==typeof e.__TREZOR_CONNECT_SRC&&(n.connectSrc=u(e.__TREZOR_CONNECT_SRC),n.debug=!0),"undefined"!=typeof window&&window.location&&"string"==typeof window.location.search){var r=window.location.search.split("&").find((function(e){return e.indexOf("trezor-connect-src")>=0}));if(r){var l=r.split("=")[1];n.connectSrc=u(decodeURIComponent(l)),n.debug=!0}}var d=n.connectSrc||s;return n.iframeSrc=d+"iframe.html",n.popupSrc=d+"popup.html",n.webusbSrc=d+"webusb.html","boolean"==typeof t.transportReconnect&&(n.transportReconnect=t.transportReconnect),"boolean"==typeof t.webusb&&(n.webusb=t.webusb),"boolean"==typeof t.popup&&(n.popup=t.popup),"boolean"==typeof t.lazyLoad&&(n.lazyLoad=t.lazyLoad),"boolean"==typeof t.pendingTransportEvent&&(n.pendingTransportEvent=t.pendingTransportEvent),"undefined"!=typeof window&&window.location&&"file:"===window.location.protocol&&(n.origin="file://"+window.location.pathname,n.webusb=!1),"string"==typeof t.extension&&(n.extension=t.extension),"string"==typeof t.env?n.env=t.env:n.env=c(),"number"==typeof t.timestamp&&(n.timestamp=t.timestamp),"number"==typeof t.interactionTimeout&&(n.interactionTimeout=t.interactionTimeout),"object"==typeof t.manifest&&(n.manifest=function(e){if(e&&"string"==typeof e.email&&"string"==typeof e.appUrl)return{email:e.email,appUrl:e.appUrl}}(t.manifest)),a=n}}).call(this,n(20))},382:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.popupConsole=t.enableByPrefix=t.getLog=t.enable=t.init=t.default=void 0;var n={DescriptorStream:"color: #77ab59",DeviceList:"color: #36802d",Device:"color: #bada55",Core:"color: #c9df8a",IFrame:"color: #FFFFFF; background: #f4a742;",Popup:"color: #f48a00"},r=function(){function e(e,t){void 0===t&&(t=!1),this.prefix=e,this.enabled=t,this.messages=[],this.css=n[e]||"color: #000000; background: #FFFFFF;"}var t=e.prototype;return t.addMessage=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];this.messages.push({level:e,prefix:t,message:r,timestamp:(new Date).getTime()})},t.log=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(this.addMessage.apply(this,["log",this.prefix].concat(t)),this.enabled)&&(r=console).log.apply(r,[this.prefix].concat(t))},t.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(this.addMessage.apply(this,["error",this.prefix].concat(t)),this.enabled)&&(r=console).error.apply(r,[this.prefix].concat(t))},t.warn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(this.addMessage.apply(this,["warn",this.prefix].concat(t)),this.enabled)&&(r=console).warn.apply(r,[this.prefix].concat(t))},t.debug=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(this.addMessage.apply(this,["debug",this.prefix].concat(t)),this.enabled)&&(r=console).log.apply(r,["%c"+this.prefix,this.css].concat(t))},e}();t.default=r;var o={};t.init=function(e,t){var n=new r(e,"boolean"==typeof t&&t);return o[e]=n,n};t.enable=function(e){for(var t=0,n=Object.keys(o);t<n.length;t++){var r=n[t];o[r].enabled=e}};t.getLog=function(e){for(var t=[],n=0,r=Object.keys(o);n<r.length;n++){var i=r[n];t=t.concat(o[i].messages)}return t.sort((function(e,t){return e.timestamp-t.timestamp})),t};t.enableByPrefix=function(e,t){o[e]&&(o[e].enabled=t)};t.popupConsole=function(t,n){var r=e.console,o={error:r.error,info:r.info,debug:r.debug,log:r.log},i=[],s=function(e,o){return function(){for(var s=(new Date).toUTCString(),a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return i.push([o,s].concat(c)),n.apply(void 0,[{type:t,level:o,time:s,args:JSON.stringify(c)}]),e.apply(r,c)}};for(var a in o)r[a]=s(o[a],a)}}).call(this,n(20))},383:function(e,t,n){"use strict";var r=n(180);r(n(150)),r(n(242)),r(n(243)),r(n(244)),r(n(384)),r(n(245)),r(n(246)),r(n(247)),r(n(248)),r(n(249)),r(n(250)),r(n(251)),r(n(252)),r(n(253)),r(n(254)),r(n(255)),r(n(256)),r(n(257)),r(n(258)),r(n(259))},384:function(e,t,n){},385:function(e,t,n){},386:function(e,t,n){"use strict";var r=n(73),o=n(14),i=n(66),s=n(64),a=n(63),c=n(62);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}var l=n(164),d=n(135),p=function(e){s(n,e);var t=u(n);function n(e){var r;return o(this,n),delete(r=t.call(this,f,e)).network,r.fee?r.fee=Number(r.fee)/1e7:r.fee=100*r.operations.length,null==r.minTime&&null===r.maxTime||(r.timebounds={minTime:null==r.minTime?0:r.minTime,maxTime:null==r.maxTime?0:r.maxTime},delete r.minTime,delete r.maxTime),r.operations.forEach((function(e){if("allowTrust"===e.type)e.assetType=e.assetCode.length<=4?1:2,e.authorize=e.authorize?1:0;else if("changeTrust"===e.type)e.limit||(e.limit="9223372036854775807"),e.line=e.asset,delete e.asset;else if("createPassiveSellOffer"===e.type)e.type="createPassiveOffer";else if("manageSellOffer"===e.type)e.type="manageOffer";else if("manageBuyOffer"===e.type)h("operation manageBuyOffer");else if("pathPaymentStrictReceive"===e.type)e.type="pathPayment";else if("pathPaymentStrictSend"===e.type)h("operation pathPaymentStrictSend");else if("setOptions"===e.type&&e.signer&&0===e.signer.type){var t=d.Keypair.fromPublicKey(e.signer.key);e.signer.key=t.rawPublicKey().toString("hex")}})),console.log("Trezor TX",JSON.stringify(i(r),null,2)),r}return n}(n(387)),f={};function h(e){throw new Error("This feature is not supported yet: ".concat(e,"."))}f.amount=function(e){return Number(1e7*e).toFixed(0)},f.asset=function(e){return"XLM"!==e.code||e.issuer?(e.type=e.code.length<=4?1:2,e):null},f.assetsArray=function(e){return e.map(f.asset)},f.buffer=function(e){return e.value?"base64"===e.type?l.from(e.value,"base64").toString("hex"):l.from(e.value).toString("hex"):""},f.date=function(e){return Number(new Date(e))/1e3},f.memo=function(e){return"text"===e.type?(e.type=1,e.text=e.value):"base64"===e.type?(e.type=1,e.text=l.from(e.value,"base64").toString("utf8"),e.text.match("\0")&&h("binary text memo including NULL characters")):"id"===e.type?(e.type=2,e.id=e.value):"hash"===e.type?(e.type=3,e.hash=e.value):"return"===e.type&&(e.type=4,e.hash=e.value),delete e.value,e},f.price=function(e){return"object"!==r(e)?{n:Number(e),d:1}:e},f.signer=function(e){return e.key=e.value,delete e.value,"key"===e.type?e.type=0:"tx"===e.type?e.type=1:"hash"===e.type&&(e.type=2),e},e.exports=p},387:function(e,t,n){"use strict";var r=n(14),o=n(148),i=o.CosmicLink,s=o.specs,a={field:function(e,t,n){var r=s.fieldType[t];return e[r]?e[r](n):n},odesc:function(e,t){var n={};for(var r in t)n[r]=a.field(e,r,t[r]);return n}};e.exports=function e(t,n){var o=this;r(this,e);var c=new i(n).tdesc;s.transactionOptionalFields.forEach((function(e){var n=c[e];n&&(o[e]=a.field(t,e,n))})),this.operations=c.operations.map((function(e){return a.odesc(t,e)}))}}}]);
//# sourceMappingURL=vendors~trezor.js.map